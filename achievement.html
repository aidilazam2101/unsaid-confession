<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Achievement - Unsaid</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{
  background:#070710;
  font-family:'Orbitron','Roboto',sans-serif;
  color:#e6e6ff;
  overflow-x:hidden;
  position:relative;
}

/* ===== BACKGROUND IMAGE + OVERLAY ===== */
body::before{
  content:'';
  position:fixed;
  inset:0;
  background-image:url('images/achievement-bg.jpg');
  background-size:cover;
  background-position:center;
  background-attachment:fixed;
  opacity:0.15;
  z-index:-3;
}

/* ===== PARTICLES ===== */
#particles{position:fixed;inset:0;z-index:-2;}
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:linear-gradient(180deg, rgba(6,6,15,.85) 0%, rgba(10,5,20,.9) 50%, rgba(6,6,15,.85) 100%);
  z-index:-1;
  backdrop-filter:blur(2px);
}

/* ===== NAVBAR ===== */
.nav{
  display:grid;
  grid-template-columns:1fr auto 1fr;
  align-items:center;
  padding:18px 40px;
  background:rgba(12,12,25,.95);
  box-shadow:0 0 25px #ff00ff,0 0 35px #00ffff;
  position:sticky;
  top:0;
  z-index:10;
  backdrop-filter:blur(15px);
  border-bottom:2px solid rgba(255,0,255,.3);
}
.nav-left{display:flex;flex-direction:column;}
.logo{
  font-size:1.9rem;
  font-weight:900;
  color:#ff00ff;
  text-shadow:0 0 10px #ff00ff,0 0 25px #00ffff;
  cursor:pointer;
  transition:.3s;
}
.logo:hover{
  text-shadow:0 0 20px #ff00ff,0 0 40px #00ffff;
  transform:scale(1.05);
}
.date{font-size:.85rem;color:#00ffff;opacity:.9;}
.nav-center{
  display:flex;
  gap:34px;
  justify-content:center;
}
.nav-center a{
  position:relative;
  padding:8px 14px;
  color:#bffcff;
  text-decoration:none;
  font-weight:700;
  transition:.3s;
}
.nav-center a:hover{
  color:#ff00ff;
  text-shadow:0 0 6px #ff00ff,0 0 14px #00ffff;
  transform:translateY(-2px);
}
.nav-center a:hover::after{
  content:"";
  position:absolute;
  left:0;right:0;bottom:-6px;
  height:3px;
  background:linear-gradient(90deg,#ff00ff,#00ffff);
  box-shadow:0 0 12px #ff00ff;
  animation:glow 1.5s ease-in-out infinite;
}
.nav-right{
  display:flex;
  justify-content:flex-end;
}
.digital-clock{
  padding:10px 22px;
  font-weight:900;
  letter-spacing:3px;
  color:#ff00ff;
  border:2px solid #ff00ff;
  border-radius:8px;
  background:linear-gradient(180deg,#0c0c1f,#05050c);
  box-shadow:0 0 20px #ff00ff,inset 0 0 15px #00ffff;
  text-shadow:0 0 12px #ff00ff;
  animation:pulse 2s ease-in-out infinite;
}

/* ===== HEADER SECTION ===== */
.header-section{
  max-width:1400px;
  margin:60px auto 0;
  padding:0 25px 60px;
  animation:fadeInDown 0.8s ease;
}

h1{
  font-size:4rem;
  color:#ff00ff;
  text-shadow:0 0 25px #ff00ff,0 0 50px #00ffff;
  margin-bottom:30px;
  animation:glow 2s ease-in-out infinite;
  text-align:center;
}

.content-wrapper{
  display:flex;
  gap:40px;
  margin-bottom:60px;
}

/* ===== LEFT RANK SECTION ===== */
.rank-section{
  flex:0 0 320px;
  background:linear-gradient(135deg, rgba(255,0,255,.15) 0%, rgba(0,255,255,.08) 100%);
  border-radius:30px;
  padding:40px;
  border:2px solid rgba(255,0,255,.3);
  box-shadow:0 0 50px rgba(255,0,255,.4);
  position:sticky;
  top:100px;
  height:fit-content;
  animation:slideInLeft 0.8s ease;
}

.rank-section::before{
  content:'';
  position:absolute;
  top:-50%;
  left:-50%;
  width:200%;
  height:200%;
  background:linear-gradient(45deg, transparent, rgba(255,0,255,.08), transparent);
  transform:rotate(45deg);
  animation:shimmer 4s ease-in-out infinite;
  pointer-events:none;
}

.rank-content{
  position:relative;
  z-index:1;
}

.rank-title{
  font-size:1.2rem;
  color:#ff00ff;
  text-shadow:0 0 10px #ff00ff;
  margin-bottom:25px;
  text-align:center;
  font-weight:900;
}

.rank-display{
  background:linear-gradient(135deg,#ff00ff,#00ffff);
  padding:30px;
  border-radius:25px;
  text-align:center;
  margin-bottom:20px;
  box-shadow:0 0 40px rgba(255,0,255,.5);
  animation:iconFloat 3s ease-in-out infinite;
}

.rank-icon{
  font-size:3.5rem;
  margin-bottom:15px;
  display:block;
  filter:drop-shadow(0 0 15px rgba(0,0,0,.3));
}

.rank-name{
  color:#070710;
  font-size:1.8rem;
  font-weight:900;
  text-shadow:0 0 5px rgba(0,0,0,.2);
}

.rank-level{
  background:rgba(5,5,12,.8);
  padding:15px;
  border-radius:15px;
  border:2px solid rgba(0,255,255,.3);
  margin-bottom:15px;
  text-align:center;
}

.rank-level p{
  color:#00ffff;
  font-size:0.9rem;
  margin-bottom:8px;
}

.rank-level-num{
  color:#ff00ff;
  font-size:1.8rem;
  font-weight:900;
  text-shadow:0 0 10px #ff00ff;
}

.xp-info{
  background:rgba(5,5,12,.8);
  padding:15px;
  border-radius:15px;
  border:2px solid rgba(0,255,255,.3);
  text-align:center;
  margin-bottom:15px;
}

.xp-label{
  color:#00ffff;
  font-size:0.85rem;
  margin-bottom:5px;
}

.xp-value{
  color:#ff00ff;
  font-size:1.6rem;
  font-weight:900;
  text-shadow:0 0 10px #ff00ff;
}

.rank-progress{
  background:rgba(5,5,12,.8);
  padding:15px;
  border-radius:15px;
  border:2px solid rgba(0,255,255,.3);
}

.progress-label{
  color:#00ffff;
  font-size:0.85rem;
  margin-bottom:10px;
  text-align:center;
}

.progress-bar{
  height:12px;
  background:rgba(10,10,21,.8);
  border-radius:10px;
  overflow:hidden;
  border:1px solid rgba(0,255,255,.3);
}

.progress-fill{
  height:100%;
  background:linear-gradient(90deg, #00ffff, #ff00ff);
  box-shadow:0 0 15px #ff00ff;
  width:0%;
  transition:width 1s ease;
}

.stats-mini{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  margin-top:15px;
}

.stat-mini{
  background:rgba(5,5,12,.8);
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(255,0,255,.2);
  text-align:center;
  transition:.3s;
}

.stat-mini:hover{
  box-shadow:0 0 15px rgba(255,0,255,.3);
  transform:translateY(-3px);
}

.stat-mini-val{
  color:#ff00ff;
  font-size:1.3rem;
  font-weight:900;
}

.stat-mini-label{
  color:#00ffff;
  font-size:0.75rem;
  margin-top:3px;
}

/* ===== STATS BANNER ===== */
.stats-banner{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:20px;
  margin-bottom:40px;
  flex:1;
}

.stat-box{
  padding:25px;
  background:rgba(20,20,35,.9);
  border-radius:25px;
  border:2px solid rgba(0,255,255,.3);
  box-shadow:0 0 30px rgba(255,0,255,.3);
  transition:.4s;
  position:relative;
  overflow:hidden;
  animation:fadeInUp 0.6s ease;
}

.stat-box::before{
  content:'';
  position:absolute;
  top:-50%;
  left:-50%;
  width:200%;
  height:200%;
  background:linear-gradient(45deg, transparent, rgba(255,0,255,.08), transparent);
  transform:rotate(45deg);
  animation:shimmer 4s ease-in-out infinite;
}

.stat-box:hover{
  transform:translateY(-8px) scale(1.05);
  box-shadow:0 0 45px #ff00ff,0 0 70px #00ffff;
  border-color:#ff00ff;
}

.stat-box-content{
  position:relative;
  z-index:1;
  text-align:center;
}

.stat-box .number{
  font-size:3rem;
  font-weight:900;
  color:#00ffff;
  text-shadow:0 0 15px #00ffff;
  margin-bottom:8px;
}

.stat-box .label{
  font-size:1.1rem;
  color:#bffcff;
}

/* ===== ACHIEVEMENT GRID ===== */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:30px;
  animation:fadeInUp 0.8s ease;
}

/* ===== ACHIEVEMENT CARD ===== */
.achievement{
  background:rgba(20,20,35,.90);
  border-radius:28px;
  padding:35px;
  text-align:center;
  box-shadow:0 0 25px rgba(255,0,255,.3);
  transition:.5s;
  position:relative;
  overflow:hidden;
  border:2px solid rgba(255,0,255,.2);
}

.achievement::before{
  content:'';
  position:absolute;
  top:-50%;
  left:-50%;
  width:200%;
  height:200%;
  background:linear-gradient(45deg, transparent, rgba(255,0,255,.08), transparent);
  transform:rotate(45deg);
  animation:shimmer 4s ease-in-out infinite;
}

.achievement:hover::before{
  left:100%;
}

.achievement.locked{
  opacity:.35;
  filter:grayscale(100%);
}

.achievement.unlocked{
  box-shadow:0 0 45px rgba(255,0,255,.7),0 0 80px rgba(0,255,255,.5);
  border-color:#ff00ff;
  animation:unlockPulse 2s ease-in-out infinite;
}

.achievement:hover{
  transform:translateY(-15px) scale(1.05);
}

.achievement.unlocked:hover{
  box-shadow:0 0 70px #ff00ff,0 0 100px #00ffff;
}

/* ===== ICON WRAPPER ===== */
.icon-wrapper{
  position:relative;
  margin-bottom:25px;
  display:inline-block;
}

.icon-bg{
  width:130px;
  height:130px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:0 auto;
  position:relative;
  z-index:1;
}

.achievement.locked .icon-bg{
  background:rgba(50,50,70,.5);
}

.achievement.unlocked .icon-bg{
  background:var(--badge-color);
  box-shadow:0 0 50px rgba(255,0,255,.7);
  animation:iconFloat 3s ease-in-out infinite;
}

.icon{
  font-size:5rem;
  filter:drop-shadow(0 0 20px #00ffff);
  position:relative;
  z-index:1;
}

.achievement.unlocked .icon{
  animation:iconBounce 2s ease-in-out infinite;
}

/* Spinning ring for unlocked */
.achievement.unlocked .icon-wrapper::after{
  content:'';
  position:absolute;
  inset:-15px;
  border-radius:50%;
  border:3px solid transparent;
  border-top-color:#ff00ff;
  border-right-color:#00ffff;
  animation:spin 3s linear infinite;
  z-index:0;
}

/* ===== TEXT ===== */
.title{
  font-weight:900;
  font-size:1.5rem;
  color:#00ffff;
  margin-bottom:10px;
  text-shadow:0 0 12px #00ffff;
  position:relative;
  z-index:1;
}

.desc{
  font-size:1rem;
  opacity:.85;
  margin-bottom:15px;
  color:#dcdcff;
  position:relative;
  z-index:1;
}

.need{
  margin-top:15px;
  font-size:1rem;
  font-weight:700;
  position:relative;
  z-index:1;
}

.achievement.locked .need{
  color:#ff00ff;
}

.achievement.unlocked .need{
  color:#4ade80;
  text-shadow:0 0 10px #4ade80;
}

/* ===== PROGRESS BAR ===== */
.progress{
  height:14px;
  background:rgba(10,10,21,.8);
  border-radius:15px;
  margin-top:18px;
  overflow:hidden;
  border:2px solid rgba(0,255,255,.3);
  position:relative;
  z-index:1;
}

.bar{
  height:100%;
  background:linear-gradient(90deg,#00ffff,#ff00ff);
  box-shadow:0 0 20px #ff00ff;
  transition:width 1.5s ease;
  position:relative;
}

.bar::after{
  content:'';
  position:absolute;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,.3), transparent);
  animation:barShine 2s ease-in-out infinite;
}

/* ===== COMING SOON ACHIEVEMENT ===== */
.achievement.coming-soon{
  opacity:.6;
  filter:brightness(0.8);
  cursor:not-allowed;
}

.achievement.coming-soon .icon-bg{
  background:rgba(30,30,50,.8);
  animation:none !important;
}

.coming-icon{
  box-shadow:0 0 30px rgba(0,255,255,.2) !important;
}

.achievement.coming-soon:hover{
  transform:translateY(-15px) scale(1.05);
  box-shadow:0 0 50px rgba(255,0,255,.4),0 0 80px rgba(0,255,255,.2) !important;
  border-color:#00ffff !important;
}

.coming-badge{
  display:inline-block;
  background:linear-gradient(135deg, #ff00ff, #00ffff);
  color:#070710;
  padding:8px 20px;
  border-radius:20px;
  font-size:0.85rem;
  font-weight:900;
  margin:12px 0;
  text-shadow:0 0 5px rgba(0,0,0,.3);
  letter-spacing:1px;
  animation:comingSoon 2s ease-in-out infinite;
}

/* ===== ANIMATIONS ===== */
@keyframes fadeInDown{
  from{opacity:0;transform:translateY(-40px);}
  to{opacity:1;transform:translateY(0);}
}

@keyframes fadeInUp{
  from{opacity:0;transform:translateY(40px);}
  to{opacity:1;transform:translateY(0);}
}

@keyframes slideInLeft{
  from{opacity:0;transform:translateX(-40px);}
  to{opacity:1;transform:translateX(0);}
}

@keyframes glow{
  0%,100%{text-shadow:0 0 25px #ff00ff,0 0 50px #00ffff;}
  50%{text-shadow:0 0 35px #ff00ff,0 0 70px #00ffff;}
}

@keyframes pulse{
  0%,100%{box-shadow:0 0 20px #ff00ff,inset 0 0 15px #00ffff;}
  50%{box-shadow:0 0 30px #ff00ff,inset 0 0 25px #00ffff;}
}

@keyframes unlockPulse{
  0%,100%{box-shadow:0 0 45px rgba(255,0,255,.7),0 0 80px rgba(0,255,255,.5);}
  50%{box-shadow:0 0 60px rgba(255,0,255,.9),0 0 100px rgba(0,255,255,.7);}
}

@keyframes iconFloat{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-15px);}
}

@keyframes iconBounce{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.12);}
}

@keyframes spin{
  0%{transform:rotate(0deg);}
  100%{transform:rotate(360deg);}
}

@keyframes barShine{
  0%{transform:translateX(-100%);}
  100%{transform:translateX(100%);}
}

@keyframes shimmer{
  0%{transform:rotate(45deg) translate(-100%,-100%);}
  100%{transform:rotate(45deg) translate(100%,100%);}
}

@keyframes comingSoon{
  0%,100%{
    box-shadow:0 0 15px rgba(255,0,255,.5);
    transform:scale(1);
  }
  50%{
    box-shadow:0 0 25px rgba(255,0,255,.8);
    transform:scale(1.05);
  }
}

/* ===== MOBILE ===== */
@media(max-width:1200px){
  .content-wrapper{
    flex-direction:column;
    gap:30px;
  }
  .rank-section{
    flex:none;
    width:100%;
    position:relative;
    top:0;
  }
  .stats-banner{
    grid-template-columns:1fr;
  }
}

@media(max-width:900px){
  .nav{grid-template-columns:1fr;text-align:center;gap:15px;}
  .nav-right{justify-content:center;}
  h1{font-size:2.5rem;}
  .grid{grid-template-columns:1fr;gap:25px;}
  .stats-banner{gap:15px;}
}

/* Add stagger animation delay */
.achievement:nth-child(1){animation-delay:.1s;}
.achievement:nth-child(2){animation-delay:.2s;}
.achievement:nth-child(3){animation-delay:.3s;}
.achievement:nth-child(4){animation-delay:.4s;}
.achievement:nth-child(5){animation-delay:.5s;}
.achievement:nth-child(6){animation-delay:.6s;}
.achievement:nth-child(7){animation-delay:.7s;}
.achievement:nth-child(8){animation-delay:.8s;}
.achievement:nth-child(9){animation-delay:.9s;}
.achievement:nth-child(10){animation-delay:1s;}
.achievement:nth-child(11){animation-delay:1.1s;}
.achievement:nth-child(12){animation-delay:1.2s;}
</style>
</head>

<body>

<canvas id="particles"></canvas>

<!-- NAVBAR -->
<div class="nav">
  <div class="nav-left">
    <div class="logo" onclick="goToPage('home.html')">UNSAID</div>
    <div class="date" id="date"></div>
  </div>

  <div class="nav-center">
    <a href="home.html" class="nav-link">Home</a>
    <a href="feed.html" class="nav-link">Feed</a>
    <a href="submit.html" class="nav-link">Submit</a>
    <a href="profile.html" class="nav-link">Profile</a>
    <a href="achievement.html" class="nav-link"style="color: #ff00ff;">Achievement</a>
    <a href="help.html" class="nav-link">Help</a>
  </div>

  <div class="nav-right">
    <div class="digital-clock" id="clock">00:00:00</div>
  </div>
</div>

<!-- HEADER -->
<div class="header-section">
  <h1>üèÜ Achievements & Milestones</h1>

  <div class="content-wrapper">
    <!-- LEFT RANK SECTION -->
    <div class="rank-section">
      <div class="rank-content">
        <div class="rank-title">üìä Current Status</div>

        <div class="rank-display" id="rankDisplay">
          <span class="rank-icon" id="rankIcon">üå±</span>
          <div class="rank-name" id="rankName">First Whisper</div>
        </div>

        <div class="rank-level">
          <p>Level</p>
          <div class="rank-level-num" id="rankLevel">1/6</div>
        </div>

        <div class="xp-info">
          <div class="xp-label">Total XP</div>
          <div class="xp-value" id="totalXP">0</div>
        </div>

        <div class="rank-progress">
          <div class="progress-label">Level Progress</div>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <div style="color:#bffcff;font-size:0.8rem;text-align:center;margin-top:8px;" id="progressPercent">0%</div>
        </div>

        <div class="stats-mini">
          <div class="stat-mini">
            <div class="stat-mini-val" id="miniPosts">0</div>
            <div class="stat-mini-label">üìù Posts</div>
          </div>
          <div class="stat-mini">
            <div class="stat-mini-val" id="miniUnlocked">0</div>
            <div class="stat-mini-label">üéØ Unlocked</div>
          </div>
        </div>
      </div>
    </div>

    <!-- RIGHT STATS & GRID -->
    <div style="flex:1;">
      <div class="stats-banner">
        <div class="stat-box">
          <div class="stat-box-content">
            <div class="number" id="statTotal">0</div>
            <div class="label">üìù Total Confessions</div>
          </div>
        </div>
        <div class="stat-box">
          <div class="stat-box-content">
            <div class="number" id="statUnlocked">0/6</div>
            <div class="label">üéØ Achievements Unlocked</div>
          </div>
        </div>
        <div class="stat-box">
          <div class="stat-box-content">
            <div class="number" id="statXP">0</div>
            <div class="label">üíé XP Earned</div>
          </div>
        </div>
      </div>

      <div class="grid" id="achievementGrid">
        <!-- Achievements will be dynamically inserted here -->
      </div>
    </div>
  </div>
</div>

<script>
// DATE
function updateDate(){
  const d=new Date();
  const days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
  document.getElementById("date").innerText =
    days[d.getDay()]+" ‚Ä¢ "+d.toLocaleDateString();
}
updateDate();

// CLOCK
function updateClock(){
  const n=new Date();
  document.getElementById("clock").innerText =
    String(n.getHours()).padStart(2,'0')+":"+
    String(n.getMinutes()).padStart(2,'0')+":"+
    String(n.getSeconds()).padStart(2,'0');
}
setInterval(updateClock,1000);
updateClock();

// PARTICLES
const canvas=document.getElementById("particles");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;
let particles=[];
for(let i=0;i<100;i++){
  particles.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    r:Math.random()*2.5+1,
    dx:(Math.random()-.5)*.5,
    dy:(Math.random()-.5)*.5,
    color:Math.random()>.5?'#ff00ff':'#00ffff'
  });
}
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{
    p.x+=p.dx; p.y+=p.dy;
    if(p.x<0||p.x>canvas.width)p.dx*=-1;
    if(p.y<0||p.y>canvas.height)p.dy*=-1;
    ctx.fillStyle=p.color;
    ctx.globalAlpha=0.6;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fill();
  });
  requestAnimationFrame(draw);
}
draw();

// RESIZE CANVAS
window.addEventListener('resize',()=>{
  canvas.width=innerWidth;
  canvas.height=innerHeight;
});

// ACHIEVEMENT DATA
const achievements = [
  {
    title:"First Whisper",
    desc:"Submit your first confession",
    need:1,
    icon:"üå±",
    color:"linear-gradient(135deg,#4ade80,#22c55e)"
  },
  {
    title:"Neon Rookie",
    desc:"5 confessions submitted",
    need:5,
    icon:"‚ö°",
    color:"linear-gradient(135deg,#a78bfa,#8b5cf6)"
  },
  {
    title:"Neon Coder",
    desc:"10 confessions submitted",
    need:10,
    icon:"üíª",
    color:"linear-gradient(135deg,#22d3ee,#06b6d4)"
  },
  {
    title:"Neon Agent",
    desc:"20 confessions submitted",
    need:20,
    icon:"üï∂Ô∏è",
    color:"linear-gradient(135deg,#7f00ff,#00ffff)"
  },
  {
    title:"Neon Master",
    desc:"50 confessions submitted",
    need:50,
    icon:"üî•",
    color:"linear-gradient(135deg,#ff4500,#ff00ff)"
  },
  {
    title:"Neon Legend",
    desc:"100 confessions submitted",
    need:100,
    icon:"üëë",
    color:"linear-gradient(135deg,#ffd700,#ff00ff)"
  }
];

const comingSoonAchievements = [
  {title:"Secret Achiever", desc:"????? confessions submitted", icon:"üöÄ"},
  {title:"Love Warrior", desc:"50 Love confessions posted", icon:"üíñ"},
  {title:"Comedy Master", desc:"50 Fun confessions posted", icon:"üòÇ"},
  {title:"Life Philosopher", desc:"50 Life confessions posted", icon:"üåà"},
  {title:"Community Star", desc:"Get 1000 total reactions", icon:"üí•"},
  {title:"Speed Confessor", desc:"Post 5 confessions in one day", icon:"‚ö°"}
];

// Calculate user stats
function calculateStats(){
  const confessions = JSON.parse(localStorage.getItem('confessions') || '[]');
  const total = confessions.length;
  const xp = total * 10;
  const levelXP = xp % 1000;
  const progress = (levelXP / 1000) * 100;
  
  // Determine rank
  let rank, rankIcon, rankColor, rankLevel;
  if(xp >= 1000){
    rank = "Neon Legend";
    rankIcon = "üëë";
    rankColor = "linear-gradient(135deg,#ffd700,#ff00ff)";
    rankLevel = 6;
  } else if(xp >= 500){
    rank = "Neon Master";
    rankIcon = "üî•";
    rankColor = "linear-gradient(135deg,#ff4500,#ff00ff)";
    rankLevel = 5;
  } else if(xp >= 200){
    rank = "Neon Agent";
    rankIcon = "üï∂Ô∏è";
    rankColor = "linear-gradient(135deg,#7f00ff,#00ffff)";
    rankLevel = 4;
  } else if(xp >= 100){
    rank = "Neon Coder";
    rankIcon = "üíª";
    rankColor = "linear-gradient(135deg,#00ff88,#00ffff)";
    rankLevel = 3;
  } else if(xp >= 50){
    rank = "Neon Rookie";
    rankIcon = "‚ö°";
    rankColor = "linear-gradient(135deg,#ff00ff,#00ffff)";
    rankLevel = 2;
  } else {
    rank = "First Whisper";
    rankIcon = "üå±";
    rankColor = "linear-gradient(135deg,#444,#888)";
    rankLevel = 1;
  }
  
  // Count unlocked achievements
  let unlockedCount = 0;
  achievements.forEach(a => {
    if(total >= a.need) unlockedCount++;
  });
  
  return { total, xp, levelXP, progress, rank, rankIcon, rankColor, rankLevel, unlockedCount };
}

// Update UI
function updateUI(){
  const data = calculateStats();
  
  // Update rank section
  document.getElementById('rankIcon').textContent = data.rankIcon;
  document.getElementById('rankName').textContent = data.rank;
  document.getElementById('rankLevel').textContent = `${data.rankLevel}/6`;
  document.getElementById('totalXP').textContent = data.xp;
  document.getElementById('progressFill').style.width = data.progress + '%';
  document.getElementById('progressPercent').textContent = Math.floor(data.progress) + '%';
  document.getElementById('rankDisplay').style.background = data.rankColor;
  
  // Update mini stats
  document.getElementById('miniPosts').textContent = data.total;
  document.getElementById('miniUnlocked').textContent = data.unlockedCount;
  
  // Update stats banner
  document.getElementById('statTotal').textContent = data.total;
  document.getElementById('statUnlocked').textContent = `${data.unlockedCount}/${achievements.length}`;
  document.getElementById('statXP').textContent = data.xp;
  
  // Update achievements
  renderAchievements(data.total);
}

// Render achievements
function renderAchievements(total){
  const grid = document.getElementById('achievementGrid');
  grid.innerHTML = '';
  
  // Main achievements
  achievements.forEach(achievement => {
    const unlocked = total >= achievement.need;
    const progress = Math.min(100, (total / achievement.need) * 100);
    
    const card = document.createElement('div');
    card.className = `achievement ${unlocked ? 'unlocked' : 'locked'}`;
    card.style.setProperty('--badge-color', achievement.color);
    
    card.innerHTML = `
      <div class="icon-wrapper">
        <div class="icon-bg">
          <div class="icon">${achievement.icon}</div>
        </div>
      </div>
      
      <div class="title">${achievement.title}</div>
      <div class="desc">${achievement.desc}</div>
      
      <div class="need">
        ${unlocked ? '‚úÖ Unlocked!' : `üîí Need ${achievement.need} confessions`}
      </div>
      
      <div class="progress">
        <div class="bar" style="width:${progress}%"></div>
      </div>
    `;
    
    grid.appendChild(card);
  });
  
  // Coming soon achievements
  comingSoonAchievements.forEach(achievement => {
    const card = document.createElement('div');
    card.className = 'achievement coming-soon';
    
    card.innerHTML = `
      <div class="icon-wrapper">
        <div class="icon-bg coming-icon">
          <div class="icon">${achievement.icon}</div>
        </div>
      </div>
      <div class="title">${achievement.title}</div>
      <div class="desc">${achievement.desc}</div>
      <div class="coming-badge">COMING SOON</div>
      <div class="progress">
        <div class="bar" style="width:0%"></div>
      </div>
    `;
    
    grid.appendChild(card);
  });
}

// Animate numbers
function animateStats(){
  const data = calculateStats();
  
  animateValue('statTotal', 0, data.total, 1500);
  animateValue('statXP', 0, data.xp, 2000);
  animateValue('totalXP', 0, data.xp, 2000);
  animateValue('miniPosts', 0, data.total, 1500);
  animateValue('miniUnlocked', 0, data.unlockedCount, 1800);
}

function animateValue(id, start, end, duration){
  const element = document.getElementById(id);
  if(!element) return;
  
  const range = end - start;
  const increment = range / (duration / 16);
  let current = start;
  
  const timer = setInterval(()=>{
    current += increment;
    if(current >= end){
      current = end;
      clearInterval(timer);
    }
    element.textContent = Math.floor(current);
  }, 16);
}

// Initialize
updateUI();
setTimeout(animateStats, 500);
</script>

</body>
</html>